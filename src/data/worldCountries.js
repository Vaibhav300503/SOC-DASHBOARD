// Simplified world countries data with coordinates and boundaries
export const worldCountries = [
  {
    name: 'United States',
    code: 'US',
    lat: 39.8283,
    lon: -98.5795,
    threatLevel: 'High',
    population: 331000000
  },
  {
    name: 'China',
    code: 'CN',
    lat: 35.8617,
    lon: 104.1954,
    threatLevel: 'Critical',
    population: 1439323776
  },
  {
    name: 'Russia',
    code: 'RU',
    lat: 61.5240,
    lon: 105.3188,
    threatLevel: 'High',
    population: 145934462
  },
  {
    name: 'India',
    code: 'IN',
    lat: 20.5937,
    lon: 78.9629,
    threatLevel: 'Medium',
    population: 1380004385
  },
  {
    name: 'Brazil',
    code: 'BR',
    lat: -14.2350,
    lon: -51.9253,
    threatLevel: 'Medium',
    population: 212559417
  },
  {
    name: 'Germany',
    code: 'DE',
    lat: 51.1657,
    lon: 10.4515,
    threatLevel: 'Low',
    population: 83783942
  },
  {
    name: 'United Kingdom',
    code: 'GB',
    lat: 55.3781,
    lon: -3.4360,
    threatLevel: 'Medium',
    population: 67886011
  },
  {
    name: 'France',
    code: 'FR',
    lat: 46.2276,
    lon: 2.2137,
    threatLevel: 'Low',
    population: 65273511
  },
  {
    name: 'Japan',
    code: 'JP',
    lat: 36.2048,
    lon: 138.2529,
    threatLevel: 'Low',
    population: 126476461
  },
  {
    name: 'South Korea',
    code: 'KR',
    lat: 35.9078,
    lon: 127.7669,
    threatLevel: 'Medium',
    population: 51269185
  },
  {
    name: 'Canada',
    code: 'CA',
    lat: 56.1304,
    lon: -106.3468,
    threatLevel: 'Low',
    population: 37742154
  },
  {
    name: 'Australia',
    code: 'AU',
    lat: -25.2744,
    lon: 133.7751,
    threatLevel: 'Low',
    population: 25499884
  },
  {
    name: 'Iran',
    code: 'IR',
    lat: 32.4279,
    lon: 53.6880,
    threatLevel: 'Critical',
    population: 83992949
  },
  {
    name: 'North Korea',
    code: 'KP',
    lat: 40.3399,
    lon: 127.5101,
    threatLevel: 'Critical',
    population: 25778816
  },
  {
    name: 'Turkey',
    code: 'TR',
    lat: 38.9637,
    lon: 35.2433,
    threatLevel: 'High',
    population: 84339067
  },
  {
    name: 'Mexico',
    code: 'MX',
    lat: 23.6345,
    lon: -102.5528,
    threatLevel: 'Medium',
    population: 128932753
  },
  {
    name: 'Saudi Arabia',
    code: 'SA',
    lat: 23.8859,
    lon: 45.0792,
    threatLevel: 'Medium',
    population: 34813871
  },
  {
    name: 'Israel',
    code: 'IL',
    lat: 31.0461,
    lon: 34.8516,
    threatLevel: 'High',
    population: 8655535
  },
  {
    name: 'Pakistan',
    code: 'PK',
    lat: 30.3753,
    lon: 69.3451,
    threatLevel: 'High',
    population: 220892340
  },
  {
    name: 'Nigeria',
    code: 'NG',
    lat: 9.0820,
    lon: 8.6753,
    threatLevel: 'High',
    population: 206139589
  },
  {
    name: 'South Africa',
    code: 'ZA',
    lat: -30.5595,
    lon: 22.9375,
    threatLevel: 'Medium',
    population: 59308690
  },
  {
    name: 'Egypt',
    code: 'EG',
    lat: 26.0975,
    lon: 31.1095,
    threatLevel: 'Medium',
    population: 102334404
  },
  {
    name: 'Ukraine',
    code: 'UA',
    lat: 48.3794,
    lon: 31.1656,
    threatLevel: 'Critical',
    population: 43733762
  },
  {
    name: 'Poland',
    code: 'PL',
    lat: 51.9194,
    lon: 19.1451,
    threatLevel: 'Low',
    population: 37846611
  },
  {
    name: 'Italy',
    code: 'IT',
    lat: 41.8719,
    lon: 12.5674,
    threatLevel: 'Low',
    population: 60461826
  },
  {
    name: 'Spain',
    code: 'ES',
    lat: 40.4637,
    lon: -3.7492,
    threatLevel: 'Low',
    population: 46754778
  },
  {
    name: 'Netherlands',
    code: 'NL',
    lat: 52.1326,
    lon: 5.2913,
    threatLevel: 'Low',
    population: 17134872
  },
  {
    name: 'Sweden',
    code: 'SE',
    lat: 60.1282,
    lon: 18.6435,
    threatLevel: 'Low',
    population: 10099265
  },
  {
    name: 'Norway',
    code: 'NO',
    lat: 60.4720,
    lon: 8.4689,
    threatLevel: 'Low',
    population: 5421241
  },
  {
    name: 'Finland',
    code: 'FI',
    lat: 61.9241,
    lon: 25.7482,
    threatLevel: 'Low',
    population: 5540720
  },
  {
    name: 'Denmark',
    code: 'DK',
    lat: 56.2639,
    lon: 9.5018,
    threatLevel: 'Low',
    population: 5792202
  },
  {
    name: 'Switzerland',
    code: 'CH',
    lat: 46.8182,
    lon: 8.2275,
    threatLevel: 'Low',
    population: 8654622
  },
  {
    name: 'Austria',
    code: 'AT',
    lat: 47.5162,
    lon: 14.5501,
    threatLevel: 'Low',
    population: 9006398
  },
  {
    name: 'Belgium',
    code: 'BE',
    lat: 50.5039,
    lon: 4.4699,
    threatLevel: 'Low',
    population: 11589623
  },
  {
    name: 'Czech Republic',
    code: 'CZ',
    lat: 49.8175,
    lon: 15.4730,
    threatLevel: 'Low',
    population: 10708981
  },
  {
    name: 'Hungary',
    code: 'HU',
    lat: 47.1625,
    lon: 19.5033,
    threatLevel: 'Low',
    population: 9660351
  },
  {
    name: 'Romania',
    code: 'RO',
    lat: 45.9432,
    lon: 24.9668,
    threatLevel: 'Medium',
    population: 19237691
  },
  {
    name: 'Bulgaria',
    code: 'BG',
    lat: 42.7339,
    lon: 25.4858,
    threatLevel: 'Medium',
    population: 6948445
  },
  {
    name: 'Greece',
    code: 'GR',
    lat: 39.0742,
    lon: 21.8243,
    threatLevel: 'Low',
    population: 10423054
  },
  {
    name: 'Portugal',
    code: 'PT',
    lat: 39.3999,
    lon: -8.2245,
    threatLevel: 'Low',
    population: 10196709
  },
  {
    name: 'Ireland',
    code: 'IE',
    lat: 53.4129,
    lon: -8.2439,
    threatLevel: 'Low',
    population: 4937786
  },
  {
    name: 'Iceland',
    code: 'IS',
    lat: 64.9631,
    lon: -19.0208,
    threatLevel: 'Low',
    population: 341243
  },
  {
    name: 'Singapore',
    code: 'SG',
    lat: 1.3521,
    lon: 103.8198,
    threatLevel: 'Low',
    population: 5850342
  },
  {
    name: 'Malaysia',
    code: 'MY',
    lat: 4.2105,
    lon: 101.9758,
    threatLevel: 'Medium',
    population: 32365999
  },
  {
    name: 'Thailand',
    code: 'TH',
    lat: 15.8700,
    lon: 100.9925,
    threatLevel: 'Medium',
    population: 69799978
  },
  {
    name: 'Vietnam',
    code: 'VN',
    lat: 14.0583,
    lon: 108.2772,
    threatLevel: 'Medium',
    population: 97338579
  },
  {
    name: 'Philippines',
    code: 'PH',
    lat: 12.8797,
    lon: 121.7740,
    threatLevel: 'High',
    population: 109581078
  },
  {
    name: 'Indonesia',
    code: 'ID',
    lat: -0.7893,
    lon: 113.9213,
    threatLevel: 'Medium',
    population: 273523615
  },
  {
    name: 'New Zealand',
    code: 'NZ',
    lat: -40.9006,
    lon: 174.8860,
    threatLevel: 'Low',
    population: 4822233
  }
]

// Generate random threat events for demonstration
export const generateThreatEvents = (count = 100) => {
  const events = []
  const severities = ['Critical', 'High', 'Medium', 'Low']
  const attackTypes = ['DDoS', 'Malware', 'Phishing', 'Brute Force', 'SQL Injection', 'XSS', 'Ransomware']
  
  for (let i = 0; i < count; i++) {
    const country = worldCountries[Math.floor(Math.random() * worldCountries.length)]
    const severity = severities[Math.floor(Math.random() * severities.length)]
    const attackType = attackTypes[Math.floor(Math.random() * attackTypes.length)]
    
    // Add some randomness to coordinates within country bounds
    const latOffset = (Math.random() - 0.5) * 10
    const lonOffset = (Math.random() - 0.5) * 10
    
    events.push({
      id: `threat_${i}`,
      country: country.name,
      countryCode: country.code,
      lat: Math.max(-90, Math.min(90, country.lat + latOffset)),
      lon: Math.max(-180, Math.min(180, country.lon + lonOffset)),
      severity,
      attackType,
      count: Math.floor(Math.random() * 50) + 1,
      timestamp: new Date(Date.now() - Math.random() * 24 * 60 * 60 * 1000).toISOString(),
      sourceIp: `${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`,
      targetIp: `${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`
    })
  }
  
  return events
}

// Get country threat statistics
export const getCountryThreatStats = (events) => {
  const stats = new Map()
  
  events.forEach(event => {
    if (!stats.has(event.country)) {
      stats.set(event.country, {
        country: event.country,
        countryCode: event.countryCode,
        lat: event.lat,
        lon: event.lon,
        totalThreats: 0,
        criticalCount: 0,
        highCount: 0,
        mediumCount: 0,
        lowCount: 0,
        lastActivity: event.timestamp,
        maxSeverity: 'Low'
      })
    }
    
    const countryStats = stats.get(event.country)
    countryStats.totalThreats += event.count
    countryStats[`${event.severity.toLowerCase()}Count`]++
    
    // Update max severity
    const severityLevels = { 'Low': 1, 'Medium': 2, 'High': 3, 'Critical': 4 }
    if (severityLevels[event.severity] > severityLevels[countryStats.maxSeverity]) {
      countryStats.maxSeverity = event.severity
    }
    
    // Update last activity
    if (new Date(event.timestamp) > new Date(countryStats.lastActivity)) {
      countryStats.lastActivity = event.timestamp
    }
  })
  
  return Array.from(stats.values())
}